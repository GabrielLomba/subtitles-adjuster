(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(23)},15:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(3),l=a.n(i),s=(a(15),a(4)),c=a(5),o=a(8),u=a(6),m=a(9),d=a(7),h=a.n(d),f=(a(21),a(1)),p=60,g=1e3,b=/^\d\d:[0-5]\d:[0-5]\d,\d\d\d --> \d\d:[0-5]\d:[0-5]\d,\d\d\d$/;function S(e){return e.trim().match(b)}function E(e,t){var a=e.split(/[:,]/).map(Number),n=t,r=g,i=a.length-1;do{a[i]+=n,a[i]>r?(n=Math.floor(a[i]/r),a[i]%=r):n=0,--i,r=p}while(i>=0&&n>0);return function(e){var t=Object(f.a)(e,4),a=t[0],n=t[1],r=t[2],i=t[3],l=String(a).padStart(2,"0"),s=String(n).padStart(2,"0"),c=String(r).padStart(2,"0"),o=String(i).padStart(3,"0");return"".concat(l,":").concat(s,":").concat(c,",").concat(o)}(a)}var v=function(e,t){for(var a=e.split("\n"),n=0;n<a.length;++n){var r=a[n];if(S(r)){var i=r.split(" "),l=Object(f.a)(i,3),s=l[0],c=l[2];i[0]=E(s,t),i[2]=E(c,t),a[n]=i.join(" ")}}return a.join("\n")},F=36e6,w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).resetGeneralState=function(){e.setState({error:null}),e.setState({strProcessedData:null})},e.resetFileState=function(){e.setState({srtFileName:null}),e.setState({srtFileData:null})},e.handleChosenFile=function(t){if(e.resetGeneralState(),t){e.setState({srtFileName:t.name});var a=new FileReader;a.onloadend=function(){e.setState({srtFileData:a.result})},a.onerror=function(t){e.setState({error:t})},a.readAsText(t)}else e.resetFileState()},e.handleTimingChange=function(t){e.resetGeneralState(),e.setState({timingChange:Number(t)})},e.validateInput=function(){if(!e.state.srtFileData)throw new Error("Please submit a SRT file before applying!");if(!e.state.timingChange)throw new Error("Please specify a timing change before applying!");if(e.state.timingChange>F)throw new Error("Please specify a timing change less than or equal to ".concat(F,"!"))},e.processDataIfValid=function(){try{e.validateInput();var t=v(e.state.srtFileData,e.state.timingChange);e.setState({strProcessedData:t})}catch(a){e.setState({error:a.message})}},e.getProcessedFileName=function(){var t=e.state,a=t.srtFileName,n=t.timingChange,r=a.slice(0,a.lastIndexOf("."));return"".concat(r,"Processed").concat(n,".srt")},e.state={srtFileName:null,srtFileData:null,strProcessedData:null,timingChange:0,error:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.strProcessedData;return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("p",{className:"header"},"Simple app that adjusts subtitles timing in SRT files. Thanks for using!")),r.a.createElement("main",null,r.a.createElement("div",{className:"file-input"},r.a.createElement("label",null,"Select the SRT file:"),r.a.createElement("input",{type:"file",accept:".srt",onChange:function(t){return e.handleChosenFile(t.target.files[0])}})),r.a.createElement("div",{className:"timing-change"},r.a.createElement("label",null,"Timing change applied in ms"),r.a.createElement("p",{className:"timing-change-explanation"},"For instance, if the subtitles are 2 seconds late, put 2000. If they are 1.5 seconds early, put -1500."),r.a.createElement("input",{type:"number",max:F,onChange:function(t){return e.handleTimingChange(t.target.value)}}),r.a.createElement("button",{onClick:this.processDataIfValid},"Proccess!"),n?r.a.createElement(h.a,{file:this.getProcessedFileName(),content:n},r.a.createElement("button",{type:"button"},"Download processed file!")):null,a?r.a.createElement("p",{className:"error"},a):null)),r.a.createElement("footer",null,"Let me know if you have any issues ",r.a.createElement("a",{href:"https://github.com/GabrielLomba/subtitles-adjuster/issues"},"here"),". Author: ",r.a.createElement("a",{href:"https://github.com/GabrielLomba"},"Gabriel Lomba")))}}]),t}(n.Component);l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.eca8a1c5.chunk.js.map